{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/articles/2019-02/Jekyll-카테고리-게시글-수-정렬","webpackCompilationHash":"8aeaabf65ab5b4d6a17f","result":{"data":{"site":{"siteMetadata":{"title":"GyeongSu Han's Github Pages","author":"@micalgenus","siteUrl":"https://micalgenus.github.io"}},"markdownRemark":{"id":"ae61a4fd-ed47-594b-bbe9-06764429ad42","html":"<p>Github Page를 사용하여 블로그를 구축한 이유 중 하나가 구성을 원하는데로 할 수 있는 장점이 있기 때문이였다.</p>\n<p><a href=\"http://github.com/renyuanz/leonids/\">leonids theme</a>를 사용하여 블로그를 구축 하였는데, 카테고리 정렬 순서가 어떻게 되어있는지 잘 모르겠다.</p>\n<p>그래서 원하는 구성인 이름을 할지, 게시글 수로 할지 고민을 하다가 최종적으로 게시글 수로 정렬을 하게 되었다.</p>\n<p>가장 처음에는 <code class=\"language-text\">site.categories</code>에 있는 값을 정렬하려고 했지만, 실패했다.</p>\n<p>그래서 해당 값에서 게시글이 몇개인지를 추출하여 사용하였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"liquid\"><pre class=\"language-liquid\"><code class=\"language-liquid\">{<span class=\"token operator\">%</span> <span class=\"token keyword\">raw</span> <span class=\"token operator\">%</span>}\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">for</span> s <span class=\"token keyword\">in</span> site.categories <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> name <span class=\"token operator\">=</span> s <span class=\"token operator\">|</span> <span class=\"token function\">first</span> <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> <span class=\"token function\">size</span> <span class=\"token operator\">=</span> site.categories[name] <span class=\"token operator\">|</span> <span class=\"token function\">size</span> <span class=\"token operator\">%</span>}\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">endfor</span> <span class=\"token operator\">%</span>}\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">endraw</span> <span class=\"token operator\">%</span>}</code></pre></div>\n<p>위와 같이 작성하면 <code class=\"language-text\">size</code>에 게시글 수가 저장된다. 하지만 정렬을 하는 기준은 문자열이기 때문에, <strong>0</strong> 패딩을 추가해 주어야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"liquid\"><pre class=\"language-liquid\"><code class=\"language-liquid\">{<span class=\"token operator\">%</span> <span class=\"token keyword\">raw</span> <span class=\"token operator\">%</span>}\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> max_length <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token operator\">%</span>}\n\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">for</span> s <span class=\"token keyword\">in</span> site.categories <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> name <span class=\"token operator\">=</span> s <span class=\"token operator\">|</span> <span class=\"token function\">first</span> <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> <span class=\"token function\">size</span> <span class=\"token operator\">=</span> site.categories[name] <span class=\"token operator\">|</span> <span class=\"token function\">size</span> <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> len <span class=\"token operator\">=</span> <span class=\"token function\">size</span> <span class=\"token operator\">|</span> <span class=\"token function\">split</span><span class=\"token operator\">:</span> null <span class=\"token operator\">|</span> <span class=\"token function\">size</span> <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">if</span> max_length <span class=\"token operator\">&lt;</span> len <span class=\"token operator\">%</span>}\n    {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> max_length <span class=\"token operator\">=</span> len <span class=\"token operator\">|</span> <span class=\"token function\">plus</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">endif</span> <span class=\"token operator\">%</span>}\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">endfor</span> <span class=\"token operator\">%</span>}\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">endraw</span> <span class=\"token operator\">%</span>}</code></pre></div>\n<p>위와 같이 <code class=\"language-text\">max_length</code>에 padding을 몇개 넣어야 할지 계산하였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"liquid\"><pre class=\"language-liquid\"><code class=\"language-liquid\">{<span class=\"token operator\">%</span> <span class=\"token keyword\">raw</span> <span class=\"token operator\">%</span>}\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">for</span> s <span class=\"token keyword\">in</span> site.categories <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> name <span class=\"token operator\">=</span> s <span class=\"token operator\">|</span> <span class=\"token function\">first</span> <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> <span class=\"token function\">size</span> <span class=\"token operator\">=</span> site.categories[name] <span class=\"token operator\">|</span> <span class=\"token function\">size</span> <span class=\"token operator\">%</span>}\n\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> len <span class=\"token operator\">=</span> <span class=\"token function\">size</span> <span class=\"token operator\">|</span> <span class=\"token function\">split</span><span class=\"token operator\">:</span> null <span class=\"token operator\">|</span> <span class=\"token function\">size</span> <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> pad <span class=\"token operator\">=</span> max_length <span class=\"token operator\">|</span> <span class=\"token function\">minus</span><span class=\"token operator\">:</span> len <span class=\"token operator\">%</span>}\n\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">for</span> c <span class=\"token keyword\">in</span> (<span class=\"token number\">1.</span>.pad) <span class=\"token operator\">%</span>}\n    {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> <span class=\"token function\">size</span> <span class=\"token operator\">=</span> <span class=\"token function\">size</span> <span class=\"token operator\">|</span> <span class=\"token function\">prepend</span><span class=\"token operator\">:</span> '<span class=\"token number\">0</span>' <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">endfor</span> <span class=\"token operator\">%</span>}\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">endfor</span> <span class=\"token operator\">%</span>}\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">endraw</span> <span class=\"token operator\">%</span>}</code></pre></div>\n<p>그리고, <code class=\"language-text\">size</code>에 <strong>0</strong>을 추가해 준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"liquid\"><pre class=\"language-liquid\"><code class=\"language-liquid\">{<span class=\"token operator\">%</span> <span class=\"token keyword\">raw</span> <span class=\"token operator\">%</span>}\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> categories <span class=\"token operator\">=</span> '' <span class=\"token operator\">|</span> <span class=\"token function\">split</span><span class=\"token operator\">:</span> \"\" <span class=\"token operator\">%</span>}\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">for</span> s <span class=\"token keyword\">in</span> site.categories <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> name <span class=\"token operator\">=</span> s <span class=\"token operator\">|</span> <span class=\"token function\">first</span> <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> <span class=\"token function\">size</span> <span class=\"token operator\">=</span> site.categories[name] <span class=\"token operator\">|</span> <span class=\"token function\">size</span> <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> name <span class=\"token operator\">=</span> name <span class=\"token operator\">|</span> <span class=\"token function\">split</span><span class=\"token operator\">:</span> split_char <span class=\"token operator\">%</span>}\n\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> len <span class=\"token operator\">=</span> <span class=\"token function\">size</span> <span class=\"token operator\">|</span> <span class=\"token function\">split</span><span class=\"token operator\">:</span> null <span class=\"token operator\">|</span> <span class=\"token function\">size</span> <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> pad <span class=\"token operator\">=</span> max_length <span class=\"token operator\">|</span> <span class=\"token function\">minus</span><span class=\"token operator\">:</span> len <span class=\"token operator\">%</span>}\n\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">for</span> c <span class=\"token keyword\">in</span> (<span class=\"token number\">1.</span>.pad) <span class=\"token operator\">%</span>}\n    {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> <span class=\"token function\">size</span> <span class=\"token operator\">=</span> <span class=\"token function\">size</span> <span class=\"token operator\">|</span> <span class=\"token function\">prepend</span><span class=\"token operator\">:</span> '<span class=\"token number\">0</span>' <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">endfor</span> <span class=\"token operator\">%</span>}\n\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> temp <span class=\"token operator\">=</span> <span class=\"token function\">size</span> <span class=\"token operator\">|</span> <span class=\"token function\">split</span><span class=\"token operator\">:</span> split_char <span class=\"token operator\">|</span> <span class=\"token function\">concat</span><span class=\"token operator\">:</span> name <span class=\"token operator\">%</span>}\n\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> categories <span class=\"token operator\">=</span> categories <span class=\"token operator\">|</span> push<span class=\"token operator\">:</span> temp <span class=\"token operator\">%</span>}\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">endfor</span> <span class=\"token operator\">%</span>}\n\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> categories <span class=\"token operator\">=</span> categories <span class=\"token operator\">|</span> <span class=\"token function\">sort</span> <span class=\"token operator\">%</span>}\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">endraw</span> <span class=\"token operator\">%</span>}</code></pre></div>\n<p>마지막으로 만든 값을 배열에 저장하고, 정렬한다.</p>\n<p><strong>categories</strong>에는 <code class=\"language-text\">[&quot;size&quot;, &quot;category&quot;]</code>을 원소로 가지는 배열로 구성되어있다.</p>\n<p>최종적으로 다음과 같이 작성하였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"liquid\"><pre class=\"language-liquid\"><code class=\"language-liquid\">{<span class=\"token operator\">%</span> <span class=\"token keyword\">raw</span> <span class=\"token operator\">%</span>}\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> split_char <span class=\"token operator\">=</span> '#' <span class=\"token operator\">%</span>}\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> max_length <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token operator\">%</span>}\n\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">for</span> s <span class=\"token keyword\">in</span> site.categories <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> name <span class=\"token operator\">=</span> s <span class=\"token operator\">|</span> <span class=\"token function\">first</span> <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> <span class=\"token function\">size</span> <span class=\"token operator\">=</span> site.categories[name] <span class=\"token operator\">|</span> <span class=\"token function\">size</span> <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> len <span class=\"token operator\">=</span> <span class=\"token function\">size</span> <span class=\"token operator\">|</span> <span class=\"token function\">split</span><span class=\"token operator\">:</span> null <span class=\"token operator\">|</span> <span class=\"token function\">size</span> <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">if</span> max_length <span class=\"token operator\">&lt;</span> len <span class=\"token operator\">%</span>}\n    {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> max_length <span class=\"token operator\">=</span> len <span class=\"token operator\">|</span> <span class=\"token function\">plus</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">endif</span> <span class=\"token operator\">%</span>}\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">endfor</span> <span class=\"token operator\">%</span>}\n\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> categories <span class=\"token operator\">=</span> '' <span class=\"token operator\">|</span> <span class=\"token function\">split</span><span class=\"token operator\">:</span> \"\" <span class=\"token operator\">%</span>}\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">for</span> s <span class=\"token keyword\">in</span> site.categories <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> name <span class=\"token operator\">=</span> s <span class=\"token operator\">|</span> <span class=\"token function\">first</span> <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> <span class=\"token function\">size</span> <span class=\"token operator\">=</span> site.categories[name] <span class=\"token operator\">|</span> <span class=\"token function\">size</span> <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> name <span class=\"token operator\">=</span> name <span class=\"token operator\">|</span> <span class=\"token function\">split</span><span class=\"token operator\">:</span> split_char <span class=\"token operator\">%</span>}\n\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> len <span class=\"token operator\">=</span> <span class=\"token function\">size</span> <span class=\"token operator\">|</span> <span class=\"token function\">split</span><span class=\"token operator\">:</span> null <span class=\"token operator\">|</span> <span class=\"token function\">size</span> <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> pad <span class=\"token operator\">=</span> max_length <span class=\"token operator\">|</span> <span class=\"token function\">minus</span><span class=\"token operator\">:</span> len <span class=\"token operator\">%</span>}\n\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">for</span> c <span class=\"token keyword\">in</span> (<span class=\"token number\">1.</span>.pad) <span class=\"token operator\">%</span>}\n    {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> <span class=\"token function\">size</span> <span class=\"token operator\">=</span> <span class=\"token function\">size</span> <span class=\"token operator\">|</span> <span class=\"token function\">prepend</span><span class=\"token operator\">:</span> '<span class=\"token number\">0</span>' <span class=\"token operator\">%</span>}\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">endfor</span> <span class=\"token operator\">%</span>}\n\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> temp <span class=\"token operator\">=</span> <span class=\"token function\">size</span> <span class=\"token operator\">|</span> <span class=\"token function\">split</span><span class=\"token operator\">:</span> split_char <span class=\"token operator\">|</span> <span class=\"token function\">concat</span><span class=\"token operator\">:</span> name <span class=\"token operator\">%</span>}\n\n  {<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> categories <span class=\"token operator\">=</span> categories <span class=\"token operator\">|</span> push<span class=\"token operator\">:</span> temp <span class=\"token operator\">%</span>}\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">endfor</span> <span class=\"token operator\">%</span>}\n\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">assign</span> categories <span class=\"token operator\">=</span> categories <span class=\"token operator\">|</span> <span class=\"token function\">sort</span> <span class=\"token operator\">%</span>}\n\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">for</span> cat <span class=\"token keyword\">in</span> categories <span class=\"token keyword\">reversed</span> <span class=\"token operator\">%</span>}\n  <span class=\"token operator\">&lt;</span>div class<span class=\"token operator\">=</span>\"tag<span class=\"token operator\">-</span>group\"<span class=\"token operator\">></span>\n    {<span class=\"token operator\">%</span> <span class=\"token keyword\">capture</span> cat_name <span class=\"token operator\">%</span>}{{ cat <span class=\"token operator\">|</span> <span class=\"token function\">last</span> }}{<span class=\"token operator\">%</span> <span class=\"token keyword\">endcapture</span> <span class=\"token operator\">%</span>}\n    <span class=\"token operator\">&lt;</span>a href<span class=\"token operator\">=</span>\"#{{ cat_name <span class=\"token operator\">|</span> slugize }}\"<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>h5 class<span class=\"token operator\">=</span>\"tag<span class=\"token operator\">-</span>group<span class=\"token operator\">-</span>title\" id<span class=\"token operator\">=</span>\"{{ cat_name <span class=\"token operator\">|</span> slugize }}\"<span class=\"token operator\">></span>\n      {{ cat_name }}\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h5<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n    {<span class=\"token operator\">%</span> <span class=\"token keyword\">for</span> post <span class=\"token keyword\">in</span> site.categories[cat_name] <span class=\"token operator\">%</span>}\n    <span class=\"token operator\">&lt;</span>article class<span class=\"token operator\">=</span>\"tag<span class=\"token operator\">-</span>item\"<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>a class<span class=\"token operator\">=</span>\"tag<span class=\"token operator\">-</span>item<span class=\"token operator\">-</span>title\" href<span class=\"token operator\">=</span>\"{{ site.url }}{{ post.url }}\"<span class=\"token operator\">></span>{{post.title}}<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>article<span class=\"token operator\">></span>\n    {<span class=\"token operator\">%</span> <span class=\"token keyword\">endfor</span> <span class=\"token operator\">%</span>}\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">endfor</span> <span class=\"token operator\">%</span>}\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n{<span class=\"token operator\">%</span> <span class=\"token keyword\">endraw</span> <span class=\"token operator\">%</span>}</code></pre></div>","frontmatter":{"categories":["Jekyll"],"title":"Jekyll 카테고리 게시글 수 정렬","date":"Feb 22, 2019","tags":["Jekyll","liquid"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"comments":true,"previous":{"frontmatter":{"path":"/articles/2019-02/Regex-특정-문자-제외-필터링","title":"Regex 특정 문자 제외 필터링","comments":true}},"next":{"frontmatter":{"path":"/articles/2019-02/React-snapshot","title":"React snapshot","comments":true}}}}}