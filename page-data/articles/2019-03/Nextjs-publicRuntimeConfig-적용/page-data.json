{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/articles/2019-03/Nextjs-publicRuntimeConfig-적용","result":{"data":{"site":{"siteMetadata":{"title":"GyeongSu Han's Github Pages","author":"@micalgenus","siteUrl":"https://micalgenus.github.io"}},"markdownRemark":{"id":"1fe11ae0-995a-5bad-b26f-46b4560c5002","html":"<p>Next.js를 사용하면서 브라우저에서 <strong>.env</strong> 설정을 받아들이지 못하는 문제가 있었습니다. 이를 <code class=\"language-text\">publicRuntimeConfig</code>설정을 이용하여 해결할 수 있습니다.</p>\n<p><code class=\"language-text\">next.config.js</code>에 다음과 같이 추가하여 사용할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token function\">withSass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">publicRuntimeConfig</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">test</span><span class=\"token operator\">:</span> <span class=\"token string\">'test'</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// or</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">publicRuntimeConfig</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">test</span><span class=\"token operator\">:</span> <span class=\"token string\">'test'</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>여기서 <code class=\"language-text\">.env</code>설정에 관한 부분은 추가적으로 해주어야 하기 때문에 <a href=\"https://www.npmjs.com/package/next-runtime-dotenv\">node-runtime-config</a>를 사용하여 편리하게 구성할 수 있습니다.</p>","frontmatter":{"categories":["React"],"title":"Nextjs publicRuntimeConfig 적용","date":"Mar 29, 2019","tags":["React","Next.js"]}}},"pageContext":{"comments":true,"previous":{"frontmatter":{"path":"/articles/2019-03/Nextjs-custom-polyfill","title":"Next.js Custom polyfill 적용하기","comments":true}},"next":{"frontmatter":{"path":"/articles/2019-03/Apollo-client에-헤더-추가하기","title":"Apollo client에 헤더 추가하기","comments":true}}}}}