{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/articles/2016-03/firewalld-특정-아이피-특정-포트-방화벽-설정","webpackCompilationHash":"b644d1d152bbc5b5af4a","result":{"data":{"site":{"siteMetadata":{"title":"GyeongSu Han's Github Pages","author":"@micalgenus","siteUrl":"https://micalgenus.github.io"}},"markdownRemark":{"id":"cf2b0ac2-fbea-5c3a-8fb6-c0d9efa0e62a","html":"<p>CentOS 7 부터는 <code class=\"language-text\">firewalld</code>이라는 방화벽을 사용하게 된다.</p>\n<p>이 방화벽을 사용할 때 특정 아이피에서 특정 포트만 사용하고 싶은 경우가 있다.</p>\n<p>이 때 다음과 같은 명령으로 사용하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># firewall-cmd --permanent --zone=public --add-rich-rule='rule family=\"ipv4\" source address=\"192.168.123.123/32\" service name=\"ssh\" log prefix=\"ssh\" accept'</span>\nsuccess\n<span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># firewall-cmd --reload</span>\nsuccess</code></pre></div>\n<p>여기서 ip와 netmask를 계산하여 적어주면 된다.</p>\n<p>위의 예시는 192.168.123.123아이피의 ssh서비스를 방화벽 해제하는 예시다.</p>\n<p><code class=\"language-text\">--permanent</code>는 설정파일에 적용을 하는 것이고, 이 옵션을 사용하면 <strong>영구적용</strong>을 할 수 있다.</p>\n<p>이 옵션을 사용하지 않을 경우 firewalld가 재시작 될 경우 방화벽에 추가한 명령이 적용되지 않는다.</p>\n<p>서비스가 아닌 포트를 적용시킬 경우는 다음과 같이 설정하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># firewall-cmd --permanent --zone=public --add-rich-rule='rule family=\"ipv4\" source address=\"192.168.123.123/32\" port protocol=\"tcp\" port=\"4567\" log prefix=\"log\" accept'</span>\nsuccess\n<span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># firewall-cmd --reload</span>\nsuccess</code></pre></div>\n<p>방화벽 제거를 하려면 —add-rich-rule대신 <code class=\"language-text\">--remove-rich-rule</code>을 사용하면 된다.</p>","frontmatter":{"categories":["Server"],"title":"firewalld 특정 아이피 특정 포트 방화벽 설정","date":"Mar 27, 2016","tags":["firewalld"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"comments":true,"previous":{"frontmatter":{"path":"/articles/2016-03/Pwnable.kr-collision","title":"Pwnable.kr collision","comments":true}},"next":{"frontmatter":{"path":"/articles/2016-04/GCC-4.7.3-(Ubuntu-14.04.4-LTS)","title":"GCC 4.7.3 (Ubuntu 14.04.4 LTS)","comments":true}}}}}